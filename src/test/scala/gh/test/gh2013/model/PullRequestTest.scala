import gh2011.models.Repository
import gh2013.models.PullRequest
import net.liftweb.json._
import org.scalatest.{FlatSpec, Matchers}

class PullRequestTest extends FlatSpec with Matchers
{
   "A valid PullRequest" must "be correctly parsed" in {
      val json = parse(
         """
           |     {
           |        "milestone":null,
           |        "comments":0,
           |        "comments_url":"https://api.github.com/repos/libgit2/rugged/issues/152/comments",
           |        "review_comments":0,
           |        "review_comments_url":"https://github.com/libgit2/rugged/pull/152/comments",
           |        "deletions":17,
           |        "number":152,
           |        "created_at":"2012-12-31T23:21:30Z",
           |        "merge_commit_sha":"0c5d05cd6ff6fa57585f4d09c2997393f926fc35",
           |        "closed_at":"2013-01-01T08:05:25Z",
           |        "url":"https://api.github.com/repos/libgit2/rugged/pulls/152",
           |        "merged_at":"2013-01-01T08:05:25Z",
           |        "_links":{
           |            "comments":{
           |                "href":"https://api.github.com/repos/libgit2/rugged/issues/152/comments"
           |            },
           |            "review_comments":{
           |                "href":"https://api.github.com/repos/libgit2/rugged/pulls/152/comments"
           |            },
           |            "self":{
           |                "href":"https://api.github.com/repos/libgit2/rugged/pulls/152"
           |            },
           |            "issue":{
           |                "href":"https://api.github.com/repos/libgit2/rugged/issues/152"
           |            },
           |            "html":{
           |                "href":"https://github.com/libgit2/rugged/pull/152"
           |            }
           |        },
           |        "additions":17,
           |        "id":3515028,
           |        "mergeable":null,
           |        "state":"closed",
           |        "mergeable_state":"unknown",
           |        "body":"**Bonne Ann√©e, Bon Any Nou, Buon Anno**",
           |        "changed_files":17,
           |        "patch_url":"https://github.com/libgit2/rugged/pull/152.patch",
           |        "merged":true,
           |        "commits_url":"https://github.com/libgit2/rugged/pull/152/commits",
           |        "html_url":"https://github.com/libgit2/rugged/pull/152",
           |        "user":{
           |            "events_url":"https://api.github.com/users/tnm/events{/privacy}",
           |            "repos_url":"https://api.github.com/users/tnm/repos",
           |            "url":"https://api.github.com/users/tnm",
           |            "organizations_url":"https://api.github.com/users/tnm/orgs",
           |            "id":126905,
           |            "avatar_url":"https://secure.gravatar.com/avatar/803993dc11765d89aee137f29aa05d3a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "gravatar_id":"803993dc11765d89aee137f29aa05d3a",
           |            "type":"User",
           |            "received_events_url":"https://api.github.com/users/tnm/received_events",
           |            "subscriptions_url":"https://api.github.com/users/tnm/subscriptions",
           |            "starred_url":"https://api.github.com/users/tnm/starred{/owner}{/repo}",
           |            "login":"tnm",
           |            "followers_url":"https://api.github.com/users/tnm/followers",
           |            "following_url":"https://api.github.com/users/tnm/following",
           |            "gists_url":"https://api.github.com/users/tnm/gists{/gist_id}"
           |        },
           |        "diff_url":"https://github.com/libgit2/rugged/pull/152.diff",
           |        "review_comment_url":"/repos/libgit2/rugged/pulls/comments/{number}",
           |        "updated_at":"2013-01-01T08:05:25Z",
           |        "head":{
           |            "repo":{
           |                "events_url":"https://api.github.com/repos/tnm/rugged/events",
           |                "comments_url":"https://api.github.com/repos/tnm/rugged/comments{/number}",
           |                "full_name":"tnm/rugged",
           |                "open_issues_count":0,
           |                "hooks_url":"https://api.github.com/repos/tnm/rugged/hooks",
           |                "git_commits_url":"https://api.github.com/repos/tnm/rugged/git/commits{/sha}",
           |                "created_at":"2012-12-17T22:00:58Z",
           |                "git_refs_url":"https://api.github.com/repos/tnm/rugged/git/refs{/sha}",
           |                "git_url":"git://github.com/tnm/rugged.git",
           |                "size":248,
           |                "pushed_at":"2012-12-31T23:19:30Z",
           |                "url":"https://api.github.com/repos/tnm/rugged",
           |                "open_issues":0,
           |                "merges_url":"https://api.github.com/repos/tnm/rugged/merges",
           |                "statuses_url":"https://api.github.com/repos/tnm/rugged/statuses/{sha}",
           |                "id":7213068,
           |                "git_tags_url":"https://api.github.com/repos/tnm/rugged/git/tags{/sha}",
           |                "contributors_url":"https://api.github.com/repos/tnm/rugged/contributors",
           |                "has_downloads":true,
           |                "stargazers_url":"https://api.github.com/repos/tnm/rugged/stargazers",
           |                "subscription_url":"https://api.github.com/repos/tnm/rugged/subscription",
           |                "has_issues":false,
           |                "compare_url":"https://api.github.com/repos/tnm/rugged/compare/{base}...{head}",
           |                "forks_count":0,
           |                "clone_url":"https://github.com/tnm/rugged.git",
           |                "contents_url":"https://api.github.com/repos/tnm/rugged/contents/{+path}",
           |                "master_branch":"development",
           |                "mirror_url":null,
           |                "fork":true,
           |                "blobs_url":"https://api.github.com/repos/tnm/rugged/git/blobs{/sha}",
           |                "branches_url":"https://api.github.com/repos/tnm/rugged/branches{/branch}",
           |                "trees_url":"https://api.github.com/repos/tnm/rugged/git/trees{/sha}",
           |                "private":false,
           |                "watchers":1,
           |                "teams_url":"https://api.github.com/repos/tnm/rugged/teams",
           |                "downloads_url":"https://api.github.com/repos/tnm/rugged/downloads",
           |                "default_branch":"development",
           |                "forks_url":"https://api.github.com/repos/tnm/rugged/forks",
           |                "assignees_url":"https://api.github.com/repos/tnm/rugged/assignees{/user}",
           |                "svn_url":"https://github.com/tnm/rugged",
           |                "archive_url":"https://api.github.com/repos/tnm/rugged/{archive_format}{/ref}",
           |                "subscribers_url":"https://api.github.com/repos/tnm/rugged/subscribers",
           |                "commits_url":"https://api.github.com/repos/tnm/rugged/commits{/sha}",
           |                "issues_url":"https://api.github.com/repos/tnm/rugged/issues{/number}",
           |                "html_url":"https://github.com/tnm/rugged",
           |                "tags_url":"https://api.github.com/repos/tnm/rugged/tags{/tag}",
           |                "updated_at":"2012-12-31T23:19:33Z",
           |                "milestones_url":"https://api.github.com/repos/tnm/rugged/milestones{/number}",
           |                "watchers_count":1,
           |                "languages_url":"https://api.github.com/repos/tnm/rugged/languages",
           |                "notifications_url":"https://api.github.com/repos/tnm/rugged/notifications{?since,all,participating}",
           |                "ssh_url":"git@github.com:tnm/rugged.git",
           |                "name":"rugged",
           |                "description":"ruby bindings to libgit2",
           |                "labels_url":"https://api.github.com/repos/tnm/rugged/labels{/name}",
           |                "language":"C",
           |                "collaborators_url":"https://api.github.com/repos/tnm/rugged/collaborators{/collaborator}",
           |                "homepage":"",
           |                "keys_url":"https://api.github.com/repos/tnm/rugged/keys{/key_id}",
           |                "issue_events_url":"https://api.github.com/repos/tnm/rugged/issues/events{/number}",
           |                "forks":0,
           |                "pulls_url":"https://api.github.com/repos/tnm/rugged/pulls{/number}",
           |                "issue_comment_url":"https://api.github.com/repos/tnm/rugged/issues/comments/{number}",
           |                "owner":{
           |                    "events_url":"https://api.github.com/users/tnm/events{/privacy}",
           |                    "repos_url":"https://api.github.com/users/tnm/repos",
           |                    "url":"https://api.github.com/users/tnm",
           |                    "organizations_url":"https://api.github.com/users/tnm/orgs",
           |                    "id":126905,
           |                    "avatar_url":"https://secure.gravatar.com/avatar/803993dc11765d89aee137f29aa05d3a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                    "gravatar_id":"803993dc11765d89aee137f29aa05d3a",
           |                    "type":"User",
           |                    "received_events_url":"https://api.github.com/users/tnm/received_events",
           |                    "subscriptions_url":"https://api.github.com/users/tnm/subscriptions",
           |                    "starred_url":"https://api.github.com/users/tnm/starred{/owner}{/repo}",
           |                    "login":"tnm",
           |                    "followers_url":"https://api.github.com/users/tnm/followers",
           |                    "following_url":"https://api.github.com/users/tnm/following",
           |                    "gists_url":"https://api.github.com/users/tnm/gists{/gist_id}"
           |                },
           |                "has_wiki":false
           |            },
           |            "label":"tnm:update-date",
           |            "sha":"07a901581e43231a205aa868e4c7aea22161e99b",
           |            "user":{
           |                "events_url":"https://api.github.com/users/tnm/events{/privacy}",
           |                "repos_url":"https://api.github.com/users/tnm/repos",
           |                "url":"https://api.github.com/users/tnm",
           |                "organizations_url":"https://api.github.com/users/tnm/orgs",
           |                "id":126905,
           |                "avatar_url":"https://secure.gravatar.com/avatar/803993dc11765d89aee137f29aa05d3a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                "gravatar_id":"803993dc11765d89aee137f29aa05d3a",
           |                "type":"User",
           |                "received_events_url":"https://api.github.com/users/tnm/received_events",
           |                "subscriptions_url":"https://api.github.com/users/tnm/subscriptions",
           |                "starred_url":"https://api.github.com/users/tnm/starred{/owner}{/repo}",
           |                "login":"tnm",
           |                "followers_url":"https://api.github.com/users/tnm/followers",
           |                "following_url":"https://api.github.com/users/tnm/following",
           |                "gists_url":"https://api.github.com/users/tnm/gists{/gist_id}"
           |            },
           |            "ref":"update-date"
           |        },
           |        "merged_by":{
           |            "events_url":"https://api.github.com/users/tnm/events{/privacy}",
           |            "repos_url":"https://api.github.com/users/tnm/repos",
           |            "url":"https://api.github.com/users/tnm",
           |            "organizations_url":"https://api.github.com/users/tnm/orgs",
           |            "id":126905,
           |            "avatar_url":"https://secure.gravatar.com/avatar/803993dc11765d89aee137f29aa05d3a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "gravatar_id":"803993dc11765d89aee137f29aa05d3a",
           |            "type":"User",
           |            "received_events_url":"https://api.github.com/users/tnm/received_events",
           |            "subscriptions_url":"https://api.github.com/users/tnm/subscriptions",
           |            "starred_url":"https://api.github.com/users/tnm/starred{/owner}{/repo}",
           |            "login":"tnm",
           |            "followers_url":"https://api.github.com/users/tnm/followers",
           |            "following_url":"https://api.github.com/users/tnm/following",
           |            "gists_url":"https://api.github.com/users/tnm/gists{/gist_id}"
           |        },
           |        "issue_url":"https://github.com/libgit2/rugged/issues/152",
           |        "base":{
           |            "repo":{
           |                "events_url":"https://api.github.com/repos/libgit2/rugged/events",
           |                "comments_url":"https://api.github.com/repos/libgit2/rugged/comments{/number}",
           |                "full_name":"libgit2/rugged",
           |                "open_issues_count":18,
           |                "hooks_url":"https://api.github.com/repos/libgit2/rugged/hooks",
           |                "git_commits_url":"https://api.github.com/repos/libgit2/rugged/git/commits{/sha}",
           |                "created_at":"2010-09-10T16:18:17Z",
           |                "git_refs_url":"https://api.github.com/repos/libgit2/rugged/git/refs{/sha}",
           |                "git_url":"git://github.com/libgit2/rugged.git",
           |                "size":356,
           |                "pushed_at":"2013-01-01T08:05:24Z",
           |                "url":"https://api.github.com/repos/libgit2/rugged",
           |                "open_issues":18,
           |                "merges_url":"https://api.github.com/repos/libgit2/rugged/merges",
           |                "statuses_url":"https://api.github.com/repos/libgit2/rugged/statuses/{sha}",
           |                "id":901663,
           |                "git_tags_url":"https://api.github.com/repos/libgit2/rugged/git/tags{/sha}",
           |                "contributors_url":"https://api.github.com/repos/libgit2/rugged/contributors",
           |                "has_downloads":true,
           |                "stargazers_url":"https://api.github.com/repos/libgit2/rugged/stargazers",
           |                "subscription_url":"https://api.github.com/repos/libgit2/rugged/subscription",
           |                "has_issues":true,
           |                "compare_url":"https://api.github.com/repos/libgit2/rugged/compare/{base}...{head}",
           |                "forks_count":59,
           |                "clone_url":"https://github.com/libgit2/rugged.git",
           |                "contents_url":"https://api.github.com/repos/libgit2/rugged/contents/{+path}",
           |                "master_branch":"development",
           |                "mirror_url":null,
           |                "fork":false,
           |                "blobs_url":"https://api.github.com/repos/libgit2/rugged/git/blobs{/sha}",
           |                "branches_url":"https://api.github.com/repos/libgit2/rugged/branches{/branch}",
           |                "trees_url":"https://api.github.com/repos/libgit2/rugged/git/trees{/sha}",
           |                "private":false,
           |                "watchers":488,
           |                "teams_url":"https://api.github.com/repos/libgit2/rugged/teams",
           |                "downloads_url":"https://api.github.com/repos/libgit2/rugged/downloads",
           |                "default_branch":"development",
           |                "forks_url":"https://api.github.com/repos/libgit2/rugged/forks",
           |                "assignees_url":"https://api.github.com/repos/libgit2/rugged/assignees{/user}",
           |                "svn_url":"https://github.com/libgit2/rugged",
           |                "archive_url":"https://api.github.com/repos/libgit2/rugged/{archive_format}{/ref}",
           |                "subscribers_url":"https://api.github.com/repos/libgit2/rugged/subscribers",
           |                "commits_url":"https://api.github.com/repos/libgit2/rugged/commits{/sha}",
           |                "issues_url":"https://api.github.com/repos/libgit2/rugged/issues{/number}",
           |                "html_url":"https://github.com/libgit2/rugged",
           |                "tags_url":"https://api.github.com/repos/libgit2/rugged/tags{/tag}",
           |                "updated_at":"2013-01-01T08:05:24Z",
           |                "milestones_url":"https://api.github.com/repos/libgit2/rugged/milestones{/number}",
           |                "watchers_count":488,
           |                "languages_url":"https://api.github.com/repos/libgit2/rugged/languages",
           |                "notifications_url":"https://api.github.com/repos/libgit2/rugged/notifications{?since,all,participating}",
           |                "ssh_url":"git@github.com:libgit2/rugged.git",
           |                "name":"rugged",
           |                "description":"ruby bindings to libgit2",
           |                "labels_url":"https://api.github.com/repos/libgit2/rugged/labels{/name}",
           |                "language":"C",
           |                "collaborators_url":"https://api.github.com/repos/libgit2/rugged/collaborators{/collaborator}",
           |                "homepage":"",
           |                "keys_url":"https://api.github.com/repos/libgit2/rugged/keys{/key_id}",
           |                "issue_events_url":"https://api.github.com/repos/libgit2/rugged/issues/events{/number}",
           |                "forks":59,
           |                "pulls_url":"https://api.github.com/repos/libgit2/rugged/pulls{/number}",
           |                "issue_comment_url":"https://api.github.com/repos/libgit2/rugged/issues/comments/{number}",
           |                "owner":{
           |                    "events_url":"https://api.github.com/users/libgit2/events{/privacy}",
           |                    "repos_url":"https://api.github.com/users/libgit2/repos",
           |                    "url":"https://api.github.com/users/libgit2",
           |                    "organizations_url":"https://api.github.com/users/libgit2/orgs",
           |                    "id":394745,
           |                    "avatar_url":"https://secure.gravatar.com/avatar/1c56acccc41c591705dc92da5f6ab603?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png",
           |                    "gravatar_id":"1c56acccc41c591705dc92da5f6ab603",
           |                    "type":"Organization",
           |                    "received_events_url":"https://api.github.com/users/libgit2/received_events",
           |                    "subscriptions_url":"https://api.github.com/users/libgit2/subscriptions",
           |                    "starred_url":"https://api.github.com/users/libgit2/starred{/owner}{/repo}",
           |                    "login":"libgit2",
           |                    "followers_url":"https://api.github.com/users/libgit2/followers",
           |                    "following_url":"https://api.github.com/users/libgit2/following",
           |                    "gists_url":"https://api.github.com/users/libgit2/gists{/gist_id}"
           |                },
           |                "has_wiki":false
           |            },
           |            "label":"libgit2:development",
           |            "sha":"47678c7ebfa9c9098131bcd3efd91b293617eeab",
           |            "user":{
           |                "events_url":"https://api.github.com/users/libgit2/events{/privacy}",
           |                "repos_url":"https://api.github.com/users/libgit2/repos",
           |                "url":"https://api.github.com/users/libgit2",
           |                "organizations_url":"https://api.github.com/users/libgit2/orgs",
           |                "id":394745,
           |                "avatar_url":"https://secure.gravatar.com/avatar/1c56acccc41c591705dc92da5f6ab603?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png",
           |                "gravatar_id":"1c56acccc41c591705dc92da5f6ab603",
           |                "type":"Organization",
           |                "received_events_url":"https://api.github.com/users/libgit2/received_events",
           |                "subscriptions_url":"https://api.github.com/users/libgit2/subscriptions",
           |                "starred_url":"https://api.github.com/users/libgit2/starred{/owner}{/repo}",
           |                "login":"libgit2",
           |                "followers_url":"https://api.github.com/users/libgit2/followers",
           |                "following_url":"https://api.github.com/users/libgit2/following",
           |                "gists_url":"https://api.github.com/users/libgit2/gists{/gist_id}"
           |            },
           |            "ref":"development"
           |        },
           |        "title":"Bring us into 2013",
           |        "commits":1,
           |        "assignee":null
           |    }
         """.stripMargin)

      PullRequest(json) shouldBe 'defined
   }

   "An other valid PullRequest" must "be correctly parsed" in {
      val json = parse(
         """
           |    {
           |        "milestone":null,
           |        "user":{
           |            "followers_url":"https://api.github.com/users/stream7/followers",
           |            "gravatar_id":"ad7ef5c54efa59f36d4a7a1c2d95d269",
           |            "id":301259,
           |            "subscriptions_url":"https://api.github.com/users/stream7/subscriptions",
           |            "received_events_url":"https://api.github.com/users/stream7/received_events",
           |            "following_url":"https://api.github.com/users/stream7/following",
           |            "url":"https://api.github.com/users/stream7",
           |            "starred_url":"https://api.github.com/users/stream7/starred{/owner}{/repo}",
           |            "avatar_url":"https://secure.gravatar.com/avatar/ad7ef5c54efa59f36d4a7a1c2d95d269?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "login":"stream7",
           |            "events_url":"https://api.github.com/users/stream7/events{/privacy}",
           |            "organizations_url":"https://api.github.com/users/stream7/orgs",
           |            "gists_url":"https://api.github.com/users/stream7/gists{/gist_id}",
           |            "repos_url":"https://api.github.com/users/stream7/repos",
           |            "type":"User"
           |        },
           |        "merged":true,
           |        "changed_files":1,
           |        "review_comment_url":"/repos/apneadiving/Google-Maps-for-Rails/pulls/comments/{number}",
           |        "updated_at":"2013-01-01T18:25:02Z",
           |        "assignee":null,
           |        "id":3413996,
           |        "closed_at":"2013-01-01T18:25:02Z",
           |        "merged_at":"2013-01-01T18:25:02Z",
           |        "html_url":"https://github.com/apneadiving/Google-Maps-for-Rails/pull/303",
           |        "body":"",
           |        "review_comments":0,
           |        "additions":12,
           |        "deletions":1,
           |        "url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/pulls/303",
           |        "patch_url":"https://github.com/apneadiving/Google-Maps-for-Rails/pull/303.patch",
           |        "comments_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/issues/303/comments",
           |        "commits_url":"https://github.com/apneadiving/Google-Maps-for-Rails/pull/303/commits",
           |        "created_at":"2012-12-18T17:15:11Z",
           |        "merge_commit_sha":"111196d1ec3fa4331456491f92d143e847e91d70",
           |        "_links":{
           |            "review_comments":{
           |                "href":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/pulls/303/comments"
           |            },
           |            "html":{
           |                "href":"https://github.com/apneadiving/Google-Maps-for-Rails/pull/303"
           |            },
           |            "self":{
           |                "href":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/pulls/303"
           |            },
           |            "issue":{
           |                "href":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/issues/303"
           |            },
           |            "comments":{
           |                "href":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/issues/303/comments"
           |            }
           |        },
           |        "number":303,
           |        "diff_url":"https://github.com/apneadiving/Google-Maps-for-Rails/pull/303.diff",
           |        "review_comments_url":"https://github.com/apneadiving/Google-Maps-for-Rails/pull/303/comments",
           |        "base":{
           |            "user":{
           |                "followers_url":"https://api.github.com/users/apneadiving/followers",
           |                "gravatar_id":"808bec1c640143bd7091888d9edfb2f2",
           |                "id":247583,
           |                "subscriptions_url":"https://api.github.com/users/apneadiving/subscriptions",
           |                "received_events_url":"https://api.github.com/users/apneadiving/received_events",
           |                "following_url":"https://api.github.com/users/apneadiving/following",
           |                "url":"https://api.github.com/users/apneadiving",
           |                "starred_url":"https://api.github.com/users/apneadiving/starred{/owner}{/repo}",
           |                "avatar_url":"https://secure.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                "login":"apneadiving",
           |                "events_url":"https://api.github.com/users/apneadiving/events{/privacy}",
           |                "organizations_url":"https://api.github.com/users/apneadiving/orgs",
           |                "gists_url":"https://api.github.com/users/apneadiving/gists{/gist_id}",
           |                "repos_url":"https://api.github.com/users/apneadiving/repos",
           |                "type":"User"
           |            },
           |            "repo":{
           |                "fork":false,
           |                "contributors_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/contributors",
           |                "archive_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/{archive_format}{/ref}",
           |                "watchers_count":1095,
           |                "clone_url":"https://github.com/apneadiving/Google-Maps-for-Rails.git",
           |                "issue_events_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/issues/events{/number}",
           |                "contents_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/contents/{+path}",
           |                "teams_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/teams",
           |                "downloads_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/downloads",
           |                "collaborators_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/collaborators{/collaborator}",
           |                "updated_at":"2013-01-01T18:25:02Z",
           |                "milestones_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/milestones{/number}",
           |                "git_url":"git://github.com/apneadiving/Google-Maps-for-Rails.git",
           |                "git_commits_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/git/commits{/sha}",
           |                "forks":163,
           |                "subscription_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/subscription",
           |                "language":"JavaScript",
           |                "tags_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/tags{/tag}",
           |                "branches_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/branches{/branch}",
           |                "issue_comment_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/issues/comments/{number}",
           |                "mirror_url":null,
           |                "assignees_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/assignees{/user}",
           |                "issues_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/issues{/number}",
           |                "notifications_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/notifications{?since,all,participating}",
           |                "id":1367656,
           |                "open_issues_count":31,
           |                "labels_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/labels{/name}",
           |                "keys_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/keys{/key_id}",
           |                "forks_count":163,
           |                "private":false,
           |                "html_url":"https://github.com/apneadiving/Google-Maps-for-Rails",
           |                "open_issues":31,
           |                "subscribers_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/subscribers",
           |                "homepage":"https://rubygems.org/gems/gmaps4rails",
           |                "compare_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/compare/{base}...{head}",
           |                "trees_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/git/trees{/sha}",
           |                "name":"Google-Maps-for-Rails",
           |                "url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails",
           |                "merges_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/merges",
           |                "has_downloads":true,
           |                "git_tags_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/git/tags{/sha}",
           |                "comments_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/comments{/number}",
           |                "svn_url":"https://github.com/apneadiving/Google-Maps-for-Rails",
           |                "commits_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/commits{/sha}",
           |                "created_at":"2011-02-15T01:05:14Z",
           |                "statuses_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/statuses/{sha}",
           |                "owner":{
           |                    "followers_url":"https://api.github.com/users/apneadiving/followers",
           |                    "gravatar_id":"808bec1c640143bd7091888d9edfb2f2",
           |                    "id":247583,
           |                    "subscriptions_url":"https://api.github.com/users/apneadiving/subscriptions",
           |                    "received_events_url":"https://api.github.com/users/apneadiving/received_events",
           |                    "following_url":"https://api.github.com/users/apneadiving/following",
           |                    "url":"https://api.github.com/users/apneadiving",
           |                    "starred_url":"https://api.github.com/users/apneadiving/starred{/owner}{/repo}",
           |                    "avatar_url":"https://secure.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                    "login":"apneadiving",
           |                    "events_url":"https://api.github.com/users/apneadiving/events{/privacy}",
           |                    "organizations_url":"https://api.github.com/users/apneadiving/orgs",
           |                    "gists_url":"https://api.github.com/users/apneadiving/gists{/gist_id}",
           |                    "repos_url":"https://api.github.com/users/apneadiving/repos",
           |                    "type":"User"
           |                },
           |                "size":200,
           |                "full_name":"apneadiving/Google-Maps-for-Rails",
           |                "has_wiki":true,
           |                "ssh_url":"git@github.com:apneadiving/Google-Maps-for-Rails.git",
           |                "git_refs_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/git/refs{/sha}",
           |                "hooks_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/hooks",
           |                "events_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/events",
           |                "description":"Enables easy display of items (taken from a Rails 3 model) with Google Map, OpenLayers, Bing or Mapquest. Geocoding + Directions included. Provides much options: markers customization, infowindows, auto-adjusted zoom, polylines, polygons, circles etc... See wiki for full description and examples.",
           |                "pushed_at":"2013-01-01T18:25:02Z",
           |                "stargazers_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/stargazers",
           |                "forks_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/forks",
           |                "has_issues":true,
           |                "languages_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/languages",
           |                "watchers":1095,
           |                "pulls_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/pulls{/number}",
           |                "blobs_url":"https://api.github.com/repos/apneadiving/Google-Maps-for-Rails/git/blobs{/sha}"
           |            },
           |            "label":"apneadiving:master",
           |            "sha":"b76ec946fe205e19191cc716abf55a7d77ae4116",
           |            "ref":"master"
           |        },
           |        "mergeable":null,
           |        "head":{
           |            "user":{
           |                "followers_url":"https://api.github.com/users/stream7/followers",
           |                "gravatar_id":"ad7ef5c54efa59f36d4a7a1c2d95d269",
           |                "id":301259,
           |                "subscriptions_url":"https://api.github.com/users/stream7/subscriptions",
           |                "received_events_url":"https://api.github.com/users/stream7/received_events",
           |                "following_url":"https://api.github.com/users/stream7/following",
           |                "url":"https://api.github.com/users/stream7",
           |                "starred_url":"https://api.github.com/users/stream7/starred{/owner}{/repo}",
           |                "avatar_url":"https://secure.gravatar.com/avatar/ad7ef5c54efa59f36d4a7a1c2d95d269?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                "login":"stream7",
           |                "events_url":"https://api.github.com/users/stream7/events{/privacy}",
           |                "organizations_url":"https://api.github.com/users/stream7/orgs",
           |                "gists_url":"https://api.github.com/users/stream7/gists{/gist_id}",
           |                "repos_url":"https://api.github.com/users/stream7/repos",
           |                "type":"User"
           |            },
           |            "repo":{
           |                "fork":true,
           |                "contributors_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/contributors",
           |                "archive_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/{archive_format}{/ref}",
           |                "watchers_count":0,
           |                "clone_url":"https://github.com/stream7/Google-Maps-for-Rails.git",
           |                "issue_events_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/issues/events{/number}",
           |                "contents_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/contents/{+path}",
           |                "teams_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/teams",
           |                "downloads_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/downloads",
           |                "collaborators_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/collaborators{/collaborator}",
           |                "updated_at":"2012-12-18T12:35:10Z",
           |                "milestones_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/milestones{/number}",
           |                "git_url":"git://github.com/stream7/Google-Maps-for-Rails.git",
           |                "git_commits_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/git/commits{/sha}",
           |                "forks":0,
           |                "subscription_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/subscription",
           |                "language":"JavaScript",
           |                "tags_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/tags{/tag}",
           |                "branches_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/branches{/branch}",
           |                "issue_comment_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/issues/comments/{number}",
           |                "mirror_url":null,
           |                "assignees_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/assignees{/user}",
           |                "issues_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/issues{/number}",
           |                "notifications_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/notifications{?since,all,participating}",
           |                "id":7222759,
           |                "open_issues_count":0,
           |                "labels_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/labels{/name}",
           |                "keys_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/keys{/key_id}",
           |                "forks_count":0,
           |                "private":false,
           |                "html_url":"https://github.com/stream7/Google-Maps-for-Rails",
           |                "open_issues":0,
           |                "subscribers_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/subscribers",
           |                "homepage":"https://rubygems.org/gems/gmaps4rails",
           |                "compare_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/compare/{base}...{head}",
           |                "trees_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/git/trees{/sha}",
           |                "name":"Google-Maps-for-Rails",
           |                "url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails",
           |                "merges_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/merges",
           |                "has_downloads":true,
           |                "git_tags_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/git/tags{/sha}",
           |                "comments_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/comments{/number}",
           |                "svn_url":"https://github.com/stream7/Google-Maps-for-Rails",
           |                "commits_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/commits{/sha}",
           |                "created_at":"2012-12-18T12:13:30Z",
           |                "statuses_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/statuses/{sha}",
           |                "owner":{
           |                    "followers_url":"https://api.github.com/users/stream7/followers",
           |                    "gravatar_id":"ad7ef5c54efa59f36d4a7a1c2d95d269",
           |                    "id":301259,
           |                    "subscriptions_url":"https://api.github.com/users/stream7/subscriptions",
           |                    "received_events_url":"https://api.github.com/users/stream7/received_events",
           |                    "following_url":"https://api.github.com/users/stream7/following",
           |                    "url":"https://api.github.com/users/stream7",
           |                    "starred_url":"https://api.github.com/users/stream7/starred{/owner}{/repo}",
           |                    "avatar_url":"https://secure.gravatar.com/avatar/ad7ef5c54efa59f36d4a7a1c2d95d269?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                    "login":"stream7",
           |                    "events_url":"https://api.github.com/users/stream7/events{/privacy}",
           |                    "organizations_url":"https://api.github.com/users/stream7/orgs",
           |                    "gists_url":"https://api.github.com/users/stream7/gists{/gist_id}",
           |                    "repos_url":"https://api.github.com/users/stream7/repos",
           |                    "type":"User"
           |                },
           |                "size":136,
           |                "full_name":"stream7/Google-Maps-for-Rails",
           |                "has_wiki":true,
           |                "ssh_url":"git@github.com:stream7/Google-Maps-for-Rails.git",
           |                "git_refs_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/git/refs{/sha}",
           |                "hooks_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/hooks",
           |                "events_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/events",
           |                "description":"Enables easy display of items (taken from a Rails 3 model) with Google Map, OpenLayers, Bing or Mapquest. Geocoding + Directions included. Provides much options: markers customization, infowindows, auto-adjusted zoom, polylines, polygons, circles etc... See wiki for full description and examples.",
           |                "pushed_at":"2012-12-18T12:35:10Z",
           |                "stargazers_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/stargazers",
           |                "forks_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/forks",
           |                "has_issues":false,
           |                "languages_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/languages",
           |                "watchers":0,
           |                "pulls_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/pulls{/number}",
           |                "blobs_url":"https://api.github.com/repos/stream7/Google-Maps-for-Rails/git/blobs{/sha}"
           |            },
           |            "label":"stream7:master",
           |            "sha":"2d3f7dec61b7e1173d9b5b45defa8461ee79307d",
           |            "ref":"master"
           |        },
           |        "title":"Add support for AMD/requirejs",
           |        "comments":0,
           |        "commits":1,
           |        "state":"closed",
           |        "merged_by":{
           |            "followers_url":"https://api.github.com/users/apneadiving/followers",
           |            "gravatar_id":"808bec1c640143bd7091888d9edfb2f2",
           |            "id":247583,
           |            "subscriptions_url":"https://api.github.com/users/apneadiving/subscriptions",
           |            "received_events_url":"https://api.github.com/users/apneadiving/received_events",
           |            "following_url":"https://api.github.com/users/apneadiving/following",
           |            "url":"https://api.github.com/users/apneadiving",
           |            "starred_url":"https://api.github.com/users/apneadiving/starred{/owner}{/repo}",
           |            "avatar_url":"https://secure.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "login":"apneadiving",
           |            "events_url":"https://api.github.com/users/apneadiving/events{/privacy}",
           |            "organizations_url":"https://api.github.com/users/apneadiving/orgs",
           |            "gists_url":"https://api.github.com/users/apneadiving/gists{/gist_id}",
           |            "repos_url":"https://api.github.com/users/apneadiving/repos",
           |            "type":"User"
           |        },
           |        "issue_url":"https://github.com/apneadiving/Google-Maps-for-Rails/issues/303",
           |        "mergeable_state":"unknown"
           |    }
         """.stripMargin)

      PullRequest(json) shouldBe 'defined
   }

   "A third valid PullRequest" must "be correctly parsed" in {
      val json = parse(
         """
           |     {
           |
           |    "merge_commit_sha":"",
           |    "head":{
           |        "label":"jclouds:cleanup",
           |        "sha":"42c7037a59f279ec96c8d71d90f80cdaca477960",
           |        "user":{
           |            "id":108982,
           |            "following_url":"https://api.github.com/users/jclouds/following",
           |            "received_events_url":"https://api.github.com/users/jclouds/received_events",
           |            "login":"jclouds",
           |            "gravatar_id":"08fdc408ec6d07b292b8fdf46b1e3e1e",
           |            "followers_url":"https://api.github.com/users/jclouds/followers",
           |            "events_url":"https://api.github.com/users/jclouds/events{/privacy}",
           |            "subscriptions_url":"https://api.github.com/users/jclouds/subscriptions",
           |            "type":"User",
           |            "repos_url":"https://api.github.com/users/jclouds/repos",
           |            "gists_url":"https://api.github.com/users/jclouds/gists{/gist_id}",
           |            "avatar_url":"https://secure.gravatar.com/avatar/08fdc408ec6d07b292b8fdf46b1e3e1e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "organizations_url":"https://api.github.com/users/jclouds/orgs",
           |            "url":"https://api.github.com/users/jclouds",
           |            "starred_url":"https://api.github.com/users/jclouds/starred{/owner}{/repo}"
           |        },
           |        "ref":"cleanup",
           |        "repo":{
           |            "has_wiki":true,
           |            "keys_url":"https://api.github.com/repos/jclouds/jclouds/keys{/key_id}",
           |            "issues_url":"https://api.github.com/repos/jclouds/jclouds/issues{/number}",
           |            "id":489859,
           |            "stargazers_url":"https://api.github.com/repos/jclouds/jclouds/stargazers",
           |            "updated_at":"2013-01-01T08:10:00Z",
           |            "labels_url":"https://api.github.com/repos/jclouds/jclouds/labels{/name}",
           |            "subscribers_url":"https://api.github.com/repos/jclouds/jclouds/subscribers",
           |            "size":51790,
           |            "compare_url":"https://api.github.com/repos/jclouds/jclouds/compare/{base}...{head}",
           |            "clone_url":"https://github.com/jclouds/jclouds.git",
           |            "watchers":479,
           |            "created_at":"2010-01-26T21:29:28Z",
           |            "contents_url":"https://api.github.com/repos/jclouds/jclouds/contents/{+path}",
           |            "html_url":"https://github.com/jclouds/jclouds",
           |            "homepage":"http://code.google.com/p/jclouds/",
           |            "contributors_url":"https://api.github.com/repos/jclouds/jclouds/contributors",
           |            "comments_url":"https://api.github.com/repos/jclouds/jclouds/comments{/number}",
           |            "open_issues":39,
           |            "full_name":"jclouds/jclouds",
           |            "assignees_url":"https://api.github.com/repos/jclouds/jclouds/assignees{/user}",
           |            "milestones_url":"https://api.github.com/repos/jclouds/jclouds/milestones{/number}",
           |            "watchers_count":479,
           |            "language":"Java",
           |            "pulls_url":"https://api.github.com/repos/jclouds/jclouds/pulls{/number}",
           |            "pushed_at":"2013-01-01T08:10:00Z",
           |            "forks_url":"https://api.github.com/repos/jclouds/jclouds/forks",
           |            "git_refs_url":"https://api.github.com/repos/jclouds/jclouds/git/refs{/sha}",
           |            "git_tags_url":"https://api.github.com/repos/jclouds/jclouds/git/tags{/sha}",
           |            "issue_comment_url":"https://api.github.com/repos/jclouds/jclouds/issues/comments/{number}",
           |            "description":"jclouds is an open source library that helps you get started in the cloud and reuse your java development skills. Our api allows you to freedom to use portable abstractions or cloud-specific features. We support many clouds including Amazon, VMWare, Azure, and Rackspace.",
           |            "issue_events_url":"https://api.github.com/repos/jclouds/jclouds/issues/events{/number}",
           |            "svn_url":"https://github.com/jclouds/jclouds",
           |            "events_url":"https://api.github.com/repos/jclouds/jclouds/events",
           |            "git_commits_url":"https://api.github.com/repos/jclouds/jclouds/git/commits{/sha}",
           |            "teams_url":"https://api.github.com/repos/jclouds/jclouds/teams",
           |            "has_issues":true,
           |            "blobs_url":"https://api.github.com/repos/jclouds/jclouds/git/blobs{/sha}",
           |            "fork":false,
           |            "branches_url":"https://api.github.com/repos/jclouds/jclouds/branches{/branch}",
           |            "name":"jclouds",
           |            "archive_url":"https://api.github.com/repos/jclouds/jclouds/{archive_format}{/ref}",
           |            "statuses_url":"https://api.github.com/repos/jclouds/jclouds/statuses/{sha}",
           |            "mirror_url":null,
           |            "languages_url":"https://api.github.com/repos/jclouds/jclouds/languages",
           |            "git_url":"git://github.com/jclouds/jclouds.git",
           |            "commits_url":"https://api.github.com/repos/jclouds/jclouds/commits{/sha}",
           |            "collaborators_url":"https://api.github.com/repos/jclouds/jclouds/collaborators{/collaborator}",
           |            "tags_url":"https://api.github.com/repos/jclouds/jclouds/tags{/tag}",
           |            "merges_url":"https://api.github.com/repos/jclouds/jclouds/merges",
           |            "url":"https://api.github.com/repos/jclouds/jclouds",
           |            "has_downloads":true,
           |            "notifications_url":"https://api.github.com/repos/jclouds/jclouds/notifications{?since,all,participating}",
           |            "hooks_url":"https://api.github.com/repos/jclouds/jclouds/hooks",
           |            "forks":211,
           |            "private":false,
           |            "subscription_url":"https://api.github.com/repos/jclouds/jclouds/subscription",
           |            "downloads_url":"https://api.github.com/repos/jclouds/jclouds/downloads",
           |            "forks_count":211,
           |            "trees_url":"https://api.github.com/repos/jclouds/jclouds/git/trees{/sha}",
           |            "ssh_url":"git@github.com:jclouds/jclouds.git",
           |            "owner":{
           |                "id":108982,
           |                "following_url":"https://api.github.com/users/jclouds/following",
           |                "received_events_url":"https://api.github.com/users/jclouds/received_events",
           |                "login":"jclouds",
           |                "gravatar_id":"08fdc408ec6d07b292b8fdf46b1e3e1e",
           |                "followers_url":"https://api.github.com/users/jclouds/followers",
           |                "events_url":"https://api.github.com/users/jclouds/events{/privacy}",
           |                "subscriptions_url":"https://api.github.com/users/jclouds/subscriptions",
           |                "type":"User",
           |                "repos_url":"https://api.github.com/users/jclouds/repos",
           |                "gists_url":"https://api.github.com/users/jclouds/gists{/gist_id}",
           |                "avatar_url":"https://secure.gravatar.com/avatar/08fdc408ec6d07b292b8fdf46b1e3e1e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                "organizations_url":"https://api.github.com/users/jclouds/orgs",
           |                "url":"https://api.github.com/users/jclouds",
           |                "starred_url":"https://api.github.com/users/jclouds/starred{/owner}{/repo}"
           |            },
           |            "open_issues_count":39
           |        }
           |    },
           |    "commits":1,
           |    "id":3515808,
           |    "updated_at":"2013-01-01T08:12:45Z",
           |    "title":"cleaning unused or only used once code",
           |    "additions":427,
           |    "changed_files":73,
           |    "patch_url":"https://github.com/jclouds/jclouds/pull/1131.patch",
           |    "created_at":"2013-01-01T08:12:45Z",
           |    "deletions":1629,
           |    "diff_url":"https://github.com/jclouds/jclouds/pull/1131.diff",
           |    "_links":{
           |        "html":{
           |            "href":"https://github.com/jclouds/jclouds/pull/1131"
           |        },
           |        "issue":{
           |            "href":"https://api.github.com/repos/jclouds/jclouds/issues/1131"
           |        },
           |        "review_comments":{
           |            "href":"https://api.github.com/repos/jclouds/jclouds/pulls/1131/comments"
           |        },
           |        "self":{
           |            "href":"https://api.github.com/repos/jclouds/jclouds/pulls/1131"
           |        },
           |        "comments":{
           |            "href":"https://api.github.com/repos/jclouds/jclouds/issues/1131/comments"
           |        }
           |    },
           |    "state":"open",
           |    "html_url":"https://github.com/jclouds/jclouds/pull/1131",
           |    "mergeable":null,
           |    "merged_by":null,
           |    "comments_url":"https://api.github.com/repos/jclouds/jclouds/issues/1131/comments",
           |    "closed_at":null,
           |    "review_comments":0,
           |    "review_comment_url":"/repos/jclouds/jclouds/pulls/comments/{number}",
           |    "number":1131,
           |    "assignee":null,
           |    "issue_url":"https://github.com/jclouds/jclouds/issues/1131",
           |    "review_comments_url":"https://github.com/jclouds/jclouds/pull/1131/comments",
           |    "mergeable_state":"unknown",
           |    "merged":false,
           |    "base":{
           |        "label":"jclouds:master",
           |        "sha":"f9cbaa0973365de217b4eea070302c74d7bfe6b6",
           |        "user":{
           |            "id":108982,
           |            "following_url":"https://api.github.com/users/jclouds/following",
           |            "received_events_url":"https://api.github.com/users/jclouds/received_events",
           |            "login":"jclouds",
           |            "gravatar_id":"08fdc408ec6d07b292b8fdf46b1e3e1e",
           |            "followers_url":"https://api.github.com/users/jclouds/followers",
           |            "events_url":"https://api.github.com/users/jclouds/events{/privacy}",
           |            "subscriptions_url":"https://api.github.com/users/jclouds/subscriptions",
           |            "type":"User",
           |            "repos_url":"https://api.github.com/users/jclouds/repos",
           |            "gists_url":"https://api.github.com/users/jclouds/gists{/gist_id}",
           |            "avatar_url":"https://secure.gravatar.com/avatar/08fdc408ec6d07b292b8fdf46b1e3e1e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "organizations_url":"https://api.github.com/users/jclouds/orgs",
           |            "url":"https://api.github.com/users/jclouds",
           |            "starred_url":"https://api.github.com/users/jclouds/starred{/owner}{/repo}"
           |        },
           |        "ref":"master",
           |        "repo":{
           |            "has_wiki":true,
           |            "keys_url":"https://api.github.com/repos/jclouds/jclouds/keys{/key_id}",
           |            "issues_url":"https://api.github.com/repos/jclouds/jclouds/issues{/number}",
           |            "id":489859,
           |            "stargazers_url":"https://api.github.com/repos/jclouds/jclouds/stargazers",
           |            "updated_at":"2013-01-01T08:10:00Z",
           |            "labels_url":"https://api.github.com/repos/jclouds/jclouds/labels{/name}",
           |            "subscribers_url":"https://api.github.com/repos/jclouds/jclouds/subscribers",
           |            "size":51790,
           |            "compare_url":"https://api.github.com/repos/jclouds/jclouds/compare/{base}...{head}",
           |            "clone_url":"https://github.com/jclouds/jclouds.git",
           |            "watchers":479,
           |            "created_at":"2010-01-26T21:29:28Z",
           |            "contents_url":"https://api.github.com/repos/jclouds/jclouds/contents/{+path}",
           |            "html_url":"https://github.com/jclouds/jclouds",
           |            "homepage":"http://code.google.com/p/jclouds/",
           |            "contributors_url":"https://api.github.com/repos/jclouds/jclouds/contributors",
           |            "comments_url":"https://api.github.com/repos/jclouds/jclouds/comments{/number}",
           |            "open_issues":39,
           |            "full_name":"jclouds/jclouds",
           |            "assignees_url":"https://api.github.com/repos/jclouds/jclouds/assignees{/user}",
           |            "milestones_url":"https://api.github.com/repos/jclouds/jclouds/milestones{/number}",
           |            "watchers_count":479,
           |            "language":"Java",
           |            "pulls_url":"https://api.github.com/repos/jclouds/jclouds/pulls{/number}",
           |            "pushed_at":"2013-01-01T08:10:00Z",
           |            "forks_url":"https://api.github.com/repos/jclouds/jclouds/forks",
           |            "git_refs_url":"https://api.github.com/repos/jclouds/jclouds/git/refs{/sha}",
           |            "git_tags_url":"https://api.github.com/repos/jclouds/jclouds/git/tags{/sha}",
           |            "issue_comment_url":"https://api.github.com/repos/jclouds/jclouds/issues/comments/{number}",
           |            "description":"jclouds is an open source library that helps you get started in the cloud and reuse your java development skills. Our api allows you to freedom to use portable abstractions or cloud-specific features. We support many clouds including Amazon, VMWare, Azure, and Rackspace.",
           |            "issue_events_url":"https://api.github.com/repos/jclouds/jclouds/issues/events{/number}",
           |            "svn_url":"https://github.com/jclouds/jclouds",
           |            "events_url":"https://api.github.com/repos/jclouds/jclouds/events",
           |            "git_commits_url":"https://api.github.com/repos/jclouds/jclouds/git/commits{/sha}",
           |            "teams_url":"https://api.github.com/repos/jclouds/jclouds/teams",
           |            "has_issues":true,
           |            "blobs_url":"https://api.github.com/repos/jclouds/jclouds/git/blobs{/sha}",
           |            "fork":false,
           |            "branches_url":"https://api.github.com/repos/jclouds/jclouds/branches{/branch}",
           |            "name":"jclouds",
           |            "archive_url":"https://api.github.com/repos/jclouds/jclouds/{archive_format}{/ref}",
           |            "statuses_url":"https://api.github.com/repos/jclouds/jclouds/statuses/{sha}",
           |            "mirror_url":null,
           |            "languages_url":"https://api.github.com/repos/jclouds/jclouds/languages",
           |            "git_url":"git://github.com/jclouds/jclouds.git",
           |            "commits_url":"https://api.github.com/repos/jclouds/jclouds/commits{/sha}",
           |            "collaborators_url":"https://api.github.com/repos/jclouds/jclouds/collaborators{/collaborator}",
           |            "tags_url":"https://api.github.com/repos/jclouds/jclouds/tags{/tag}",
           |            "merges_url":"https://api.github.com/repos/jclouds/jclouds/merges",
           |            "url":"https://api.github.com/repos/jclouds/jclouds",
           |            "has_downloads":true,
           |            "notifications_url":"https://api.github.com/repos/jclouds/jclouds/notifications{?since,all,participating}",
           |            "hooks_url":"https://api.github.com/repos/jclouds/jclouds/hooks",
           |            "forks":211,
           |            "private":false,
           |            "subscription_url":"https://api.github.com/repos/jclouds/jclouds/subscription",
           |            "downloads_url":"https://api.github.com/repos/jclouds/jclouds/downloads",
           |            "forks_count":211,
           |            "trees_url":"https://api.github.com/repos/jclouds/jclouds/git/trees{/sha}",
           |            "ssh_url":"git@github.com:jclouds/jclouds.git",
           |            "owner":{
           |                "id":108982,
           |                "following_url":"https://api.github.com/users/jclouds/following",
           |                "received_events_url":"https://api.github.com/users/jclouds/received_events",
           |                "login":"jclouds",
           |                "gravatar_id":"08fdc408ec6d07b292b8fdf46b1e3e1e",
           |                "followers_url":"https://api.github.com/users/jclouds/followers",
           |                "events_url":"https://api.github.com/users/jclouds/events{/privacy}",
           |                "subscriptions_url":"https://api.github.com/users/jclouds/subscriptions",
           |                "type":"User",
           |                "repos_url":"https://api.github.com/users/jclouds/repos",
           |                "gists_url":"https://api.github.com/users/jclouds/gists{/gist_id}",
           |                "avatar_url":"https://secure.gravatar.com/avatar/08fdc408ec6d07b292b8fdf46b1e3e1e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |                "organizations_url":"https://api.github.com/users/jclouds/orgs",
           |                "url":"https://api.github.com/users/jclouds",
           |                "starred_url":"https://api.github.com/users/jclouds/starred{/owner}{/repo}"
           |            },
           |            "open_issues_count":39
           |        }
           |    },
           |    "merged_at":null,
           |    "commits_url":"https://github.com/jclouds/jclouds/pull/1131/commits",
           |    "user":{
           |        "id":64215,
           |        "following_url":"https://api.github.com/users/adriancole/following",
           |        "received_events_url":"https://api.github.com/users/adriancole/received_events",
           |        "login":"adriancole",
           |        "gravatar_id":"5b0bda421e4500b706c5c42d20c3a632",
           |        "followers_url":"https://api.github.com/users/adriancole/followers",
           |        "events_url":"https://api.github.com/users/adriancole/events{/privacy}",
           |        "subscriptions_url":"https://api.github.com/users/adriancole/subscriptions",
           |        "type":"User",
           |        "repos_url":"https://api.github.com/users/adriancole/repos",
           |        "gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}",
           |        "avatar_url":"https://secure.gravatar.com/avatar/5b0bda421e4500b706c5c42d20c3a632?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |        "organizations_url":"https://api.github.com/users/adriancole/orgs",
           |        "url":"https://api.github.com/users/adriancole",
           |        "starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}"
           |    },
           |    "url":"https://api.github.com/repos/jclouds/jclouds/pulls/1131",
           |    "body":"There were a lot of functions that had ambition, but are either not referenced at all, or only referenced once. removed unused code or duplicated code; moved code only used once to where it's used",
           |    "comments":0,
           |    "milestone":null
           |
           |}
         """.stripMargin)

      PullRequest(json) shouldBe 'defined
   }

   "A fourth valid PullRequest" must "be correctly parsed" in {
      val json = parse(
         """
           |     {
           |
           |    "comments":0,
           |    "review_comment_url":"/repos/lunar-linux/moonbase-core/pulls/comments/{number}",
           |    "body":"",
           |    "title":"dosfstools: version bumped to 3.0.13.",
           |    "deletions":5,
           |    "merged_at":"2013-01-01T09:09:11Z",
           |    "comments_url":"https://api.github.com/repos/lunar-linux/moonbase-core/issues/203/comments",
           |    "merged":true,
           |    "changed_files":1,
           |    "state":"closed",
           |    "milestone":null,
           |    "patch_url":"https://github.com/lunar-linux/moonbase-core/pull/203.patch",
           |    "review_comments":0,
           |    "diff_url":"https://github.com/lunar-linux/moonbase-core/pull/203.diff",
           |    "review_comments_url":"https://github.com/lunar-linux/moonbase-core/pull/203/comments",
           |    "number":203,
           |    "mergeable":null,
           |    "commits":1,
           |    "id":3509214,
           |    "user":{
           |        "received_events_url":"https://api.github.com/users/Florin65/received_events",
           |        "events_url":"https://api.github.com/users/Florin65/events{/privacy}",
           |        "gravatar_id":"bd730de10dfe9d7032be42e395a1f8ca",
           |        "following_url":"https://api.github.com/users/Florin65/following",
           |        "login":"Florin65",
           |        "starred_url":"https://api.github.com/users/Florin65/starred{/owner}{/repo}",
           |        "repos_url":"https://api.github.com/users/Florin65/repos",
           |        "type":"User",
           |        "id":1948024,
           |        "subscriptions_url":"https://api.github.com/users/Florin65/subscriptions",
           |        "url":"https://api.github.com/users/Florin65",
           |        "organizations_url":"https://api.github.com/users/Florin65/orgs",
           |        "followers_url":"https://api.github.com/users/Florin65/followers",
           |        "avatar_url":"https://secure.gravatar.com/avatar/bd730de10dfe9d7032be42e395a1f8ca?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |        "gists_url":"https://api.github.com/users/Florin65/gists{/gist_id}"
           |    },
           |    "url":"https://api.github.com/repos/lunar-linux/moonbase-core/pulls/203",
           |    "additions":7,
           |    "html_url":"https://github.com/lunar-linux/moonbase-core/pull/203",
           |    "issue_url":"https://github.com/lunar-linux/moonbase-core/issues/203",
           |    "base":{
           |        "label":"lunar-linux:master",
           |        "sha":"3ffd259cd0e939a4546771581b2ea61620dc98ed",
           |        "user":{
           |            "received_events_url":"https://api.github.com/users/lunar-linux/received_events",
           |            "events_url":"https://api.github.com/users/lunar-linux/events{/privacy}",
           |            "gravatar_id":"39c686317eba2a8254f81e9ac4657116",
           |            "following_url":"https://api.github.com/users/lunar-linux/following",
           |            "login":"lunar-linux",
           |            "starred_url":"https://api.github.com/users/lunar-linux/starred{/owner}{/repo}",
           |            "repos_url":"https://api.github.com/users/lunar-linux/repos",
           |            "type":"Organization",
           |            "id":1911904,
           |            "subscriptions_url":"https://api.github.com/users/lunar-linux/subscriptions",
           |            "url":"https://api.github.com/users/lunar-linux",
           |            "organizations_url":"https://api.github.com/users/lunar-linux/orgs",
           |            "followers_url":"https://api.github.com/users/lunar-linux/followers",
           |            "avatar_url":"https://secure.gravatar.com/avatar/39c686317eba2a8254f81e9ac4657116?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png",
           |            "gists_url":"https://api.github.com/users/lunar-linux/gists{/gist_id}"
           |        },
           |        "ref":"master",
           |        "repo":{
           |            "issue_events_url":"https://api.github.com/repos/lunar-linux/moonbase-core/issues/events{/number}",
           |            "ssh_url":"git@github.com:lunar-linux/moonbase-core.git",
           |            "events_url":"https://api.github.com/repos/lunar-linux/moonbase-core/events",
           |            "forks_url":"https://api.github.com/repos/lunar-linux/moonbase-core/forks",
           |            "merges_url":"https://api.github.com/repos/lunar-linux/moonbase-core/merges",
           |            "languages_url":"https://api.github.com/repos/lunar-linux/moonbase-core/languages",
           |            "blobs_url":"https://api.github.com/repos/lunar-linux/moonbase-core/git/blobs{/sha}",
           |            "issue_comment_url":"https://api.github.com/repos/lunar-linux/moonbase-core/issues/comments/{number}",
           |            "full_name":"lunar-linux/moonbase-core",
           |            "trees_url":"https://api.github.com/repos/lunar-linux/moonbase-core/git/trees{/sha}",
           |            "open_issues_count":0,
           |            "hooks_url":"https://api.github.com/repos/lunar-linux/moonbase-core/hooks",
           |            "svn_url":"https://github.com/lunar-linux/moonbase-core",
           |            "comments_url":"https://api.github.com/repos/lunar-linux/moonbase-core/comments{/number}",
           |            "has_downloads":true,
           |            "git_tags_url":"https://api.github.com/repos/lunar-linux/moonbase-core/git/tags{/sha}",
           |            "contributors_url":"https://api.github.com/repos/lunar-linux/moonbase-core/contributors",
           |            "assignees_url":"https://api.github.com/repos/lunar-linux/moonbase-core/assignees{/user}",
           |            "issues_url":"https://api.github.com/repos/lunar-linux/moonbase-core/issues{/number}",
           |            "watchers_count":11,
           |            "contents_url":"https://api.github.com/repos/lunar-linux/moonbase-core/contents/{+path}",
           |            "archive_url":"https://api.github.com/repos/lunar-linux/moonbase-core/{archive_format}{/ref}",
           |            "labels_url":"https://api.github.com/repos/lunar-linux/moonbase-core/labels{/name}",
           |            "branches_url":"https://api.github.com/repos/lunar-linux/moonbase-core/branches{/branch}",
           |            "keys_url":"https://api.github.com/repos/lunar-linux/moonbase-core/keys{/key_id}",
           |            "owner":{
           |                "received_events_url":"https://api.github.com/users/lunar-linux/received_events",
           |                "events_url":"https://api.github.com/users/lunar-linux/events{/privacy}",
           |                "gravatar_id":"39c686317eba2a8254f81e9ac4657116",
           |                "following_url":"https://api.github.com/users/lunar-linux/following",
           |                "login":"lunar-linux",
           |                "starred_url":"https://api.github.com/users/lunar-linux/starred{/owner}{/repo}",
           |                "repos_url":"https://api.github.com/users/lunar-linux/repos",
           |                "type":"Organization",
           |                "id":1911904,
           |                "subscriptions_url":"https://api.github.com/users/lunar-linux/subscriptions",
           |                "url":"https://api.github.com/users/lunar-linux",
           |                "organizations_url":"https://api.github.com/users/lunar-linux/orgs",
           |                "followers_url":"https://api.github.com/users/lunar-linux/followers",
           |                "avatar_url":"https://secure.gravatar.com/avatar/39c686317eba2a8254f81e9ac4657116?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-org-420.png",
           |                "gists_url":"https://api.github.com/users/lunar-linux/gists{/gist_id}"
           |            },
           |            "milestones_url":"https://api.github.com/repos/lunar-linux/moonbase-core/milestones{/number}",
           |            "git_refs_url":"https://api.github.com/repos/lunar-linux/moonbase-core/git/refs{/sha}",
           |            "fork":false,
           |            "collaborators_url":"https://api.github.com/repos/lunar-linux/moonbase-core/collaborators{/collaborator}",
           |            "forks_count":10,
           |            "name":"moonbase-core",
           |            "language":"Shell",
           |            "open_issues":0,
           |            "subscribers_url":"https://api.github.com/repos/lunar-linux/moonbase-core/subscribers",
           |            "statuses_url":"https://api.github.com/repos/lunar-linux/moonbase-core/statuses/{sha}",
           |            "has_issues":true,
           |            "id":4853645,
           |            "description":"",
           |            "url":"https://api.github.com/repos/lunar-linux/moonbase-core",
           |            "clone_url":"https://github.com/lunar-linux/moonbase-core.git",
           |            "html_url":"https://github.com/lunar-linux/moonbase-core",
           |            "notifications_url":"https://api.github.com/repos/lunar-linux/moonbase-core/notifications{?since,all,participating}",
           |            "forks":10,
           |            "pushed_at":"2013-01-01T09:09:11Z",
           |            "teams_url":"https://api.github.com/repos/lunar-linux/moonbase-core/teams",
           |            "stargazers_url":"https://api.github.com/repos/lunar-linux/moonbase-core/stargazers",
           |            "homepage":null,
           |            "has_wiki":true,
           |            "private":false,
           |            "mirror_url":null,
           |            "watchers":11,
           |            "pulls_url":"https://api.github.com/repos/lunar-linux/moonbase-core/pulls{/number}",
           |            "subscription_url":"https://api.github.com/repos/lunar-linux/moonbase-core/subscription",
           |            "downloads_url":"https://api.github.com/repos/lunar-linux/moonbase-core/downloads",
           |            "commits_url":"https://api.github.com/repos/lunar-linux/moonbase-core/commits{/sha}",
           |            "updated_at":"2013-01-01T09:09:11Z",
           |            "compare_url":"https://api.github.com/repos/lunar-linux/moonbase-core/compare/{base}...{head}",
           |            "git_url":"git://github.com/lunar-linux/moonbase-core.git",
           |            "git_commits_url":"https://api.github.com/repos/lunar-linux/moonbase-core/git/commits{/sha}",
           |            "size":380,
           |            "tags_url":"https://api.github.com/repos/lunar-linux/moonbase-core/tags{/tag}",
           |            "created_at":"2012-07-01T21:49:04Z"
           |        }
           |    },
           |    "merged_by":{
           |        "received_events_url":"https://api.github.com/users/Ratler/received_events",
           |        "events_url":"https://api.github.com/users/Ratler/events{/privacy}",
           |        "gravatar_id":"d7e8e949eefc20673064e70889fbd112",
           |        "following_url":"https://api.github.com/users/Ratler/following",
           |        "login":"Ratler",
           |        "starred_url":"https://api.github.com/users/Ratler/starred{/owner}{/repo}",
           |        "repos_url":"https://api.github.com/users/Ratler/repos",
           |        "type":"User",
           |        "id":429113,
           |        "subscriptions_url":"https://api.github.com/users/Ratler/subscriptions",
           |        "url":"https://api.github.com/users/Ratler",
           |        "organizations_url":"https://api.github.com/users/Ratler/orgs",
           |        "followers_url":"https://api.github.com/users/Ratler/followers",
           |        "avatar_url":"https://secure.gravatar.com/avatar/d7e8e949eefc20673064e70889fbd112?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |        "gists_url":"https://api.github.com/users/Ratler/gists{/gist_id}"
           |    },
           |    "assignee":null,
           |    "commits_url":"https://github.com/lunar-linux/moonbase-core/pull/203/commits",
           |    "_links":{
           |        "comments":{
           |            "href":"https://api.github.com/repos/lunar-linux/moonbase-core/issues/203/comments"
           |        },
           |        "html":{
           |            "href":"https://github.com/lunar-linux/moonbase-core/pull/203"
           |        },
           |        "self":{
           |            "href":"https://api.github.com/repos/lunar-linux/moonbase-core/pulls/203"
           |        },
           |        "review_comments":{
           |            "href":"https://api.github.com/repos/lunar-linux/moonbase-core/pulls/203/comments"
           |        },
           |        "issue":{
           |            "href":"https://api.github.com/repos/lunar-linux/moonbase-core/issues/203"
           |        }
           |    },
           |    "updated_at":"2013-01-01T09:09:11Z",
           |    "mergeable_state":"unknown",
           |    "head":{
           |        "label":"Florin65:dos",
           |        "sha":"4c0b2f50ebdc7c46a27af3d39b065f214876386a",
           |        "user":{
           |            "received_events_url":"https://api.github.com/users/Florin65/received_events",
           |            "events_url":"https://api.github.com/users/Florin65/events{/privacy}",
           |            "gravatar_id":"bd730de10dfe9d7032be42e395a1f8ca",
           |            "following_url":"https://api.github.com/users/Florin65/following",
           |            "login":"Florin65",
           |            "starred_url":"https://api.github.com/users/Florin65/starred{/owner}{/repo}",
           |            "repos_url":"https://api.github.com/users/Florin65/repos",
           |            "type":"User",
           |            "id":1948024,
           |            "subscriptions_url":"https://api.github.com/users/Florin65/subscriptions",
           |            "url":"https://api.github.com/users/Florin65",
           |            "organizations_url":"https://api.github.com/users/Florin65/orgs",
           |            "followers_url":"https://api.github.com/users/Florin65/followers",
           |            "avatar_url":"https://secure.gravatar.com/avatar/bd730de10dfe9d7032be42e395a1f8ca?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
           |            "gists_url":"https://api.github.com/users/Florin65/gists{/gist_id}"
           |        },
           |        "ref":"dos",
           |        "repo":null
           |    },
           |    "closed_at":"2013-01-01T09:09:11Z",
           |    "merge_commit_sha":"25c86568bc9344da048a31b33725e462bb931241",
           |    "created_at":"2012-12-30T16:27:05Z"
           |
           |}
         """.stripMargin)

      PullRequest(json) shouldBe 'defined
   }
}
